services:
  svnode-test:
    image: ubuntu:24.04
    platform: linux/amd64
    container_name: svnode-test-container
    volumes:
      # Mount the entire project directory into the container
      - ../..:/workspace
      # Mount the entrypoint script
      - ./docker-entrypoint.sh:/usr/local/bin/docker-entrypoint.sh:ro
    working_dir: /workspace
    stdin_open: true
    tty: true
    # Use custom entrypoint
    entrypoint: [ "/usr/local/bin/docker-entrypoint.sh" ]
    # Use host networking for direct access to all ports
    network_mode: host
